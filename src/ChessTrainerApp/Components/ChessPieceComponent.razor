<img class="@Class" src="images/@ImageSource" />

@code {
    const string SpriteSource = "Chess_Pieces_Sprite.svg";

    public ChessPieceComponent() { }

    public ChessPieceComponent(ChessPieces pieceType, int file, int rank)
    {
        PieceType = pieceType;
        File = file;
        Rank = rank;
    }

    [Parameter]
    public ChessPieces PieceType { get; set; }

    [Parameter]
    public int File { get; set; }

    [Parameter]
    public int Rank { get; set; }

    public string Class => $"piece {ChessFormatter.FileToString(File)}{ChessFormatter.RankToString(Rank)}";

    string ImageSource => $"{SpriteSource}#{SvgView}";

    string SvgView =>
        PieceType switch
        {
            ChessPieces.WhiteKing => "svgView(viewBox(0, 0, 45, 45))",
            ChessPieces.WhiteQueen => "svgView(viewBox(45, 0, 45, 45))",
            ChessPieces.WhiteBishop => "svgView(viewBox(90, 0, 45, 45))",
            ChessPieces.WhiteKnight => "svgView(viewBox(135, 0, 45, 45))",
            ChessPieces.WhiteRook => "svgView(viewBox(180, 0, 45, 45))",
            ChessPieces.WhitePawn => "svgView(viewBox(225, 0, 45, 45))",

            ChessPieces.BlackKing => "svgView(viewBox(0, 45, 45, 45))",
            ChessPieces.BlackQueen => "svgView(viewBox(45, 45, 45, 45))",
            ChessPieces.BlackBishop => "svgView(viewBox(90, 45, 45, 45))",
            ChessPieces.BlackKnight => "svgView(viewBox(135, 45, 45, 45))",
            ChessPieces.BlackRook => "svgView(viewBox(180, 45, 45, 45))",
            ChessPieces.BlackPawn => "svgView(viewBox(225, 45, 45, 45))",

            _ => string.Empty,
        };
        
}
